import{E as i,c as b,w as t,u as e,y as g,G as x,o as f,a as l,z as p,A as _,B as V,v as d,C,D as y,H as B,d as k,J as v,x as N,K as w,L as u,M as m,N as P,O as T,P as z}from"./index-CHrZFVoK.js";const L={key:0,style:{color:"red",padding:"10px"}},D={__name:"CreateProfile",setup(S){const a=i({fname:"",lname:"",email:"",tel:""}),s=i({error:null,success:null}),c=x(),I=()=>{a.fname!=""||a.lname!=""||a.email!=""||a.tel!=""?(s.error="",a.email=T.state.user,z.from("profile").insert([{firstname:a.fname,lastname:a.lname,email:a.email,tel:a.tel}]).select().then(n=>{console.log(n),n.error==null?c.push("/profile"):s.error=n.error}).catch(n=>{console.log(n)})):s.error="Fill in all fields"};return(n,o)=>(f(),b(e(g),null,{default:t(()=>[l(e(p),null,{default:t(()=>[l(e(_),null,{default:t(()=>[l(e(V),null,{default:t(()=>o[3]||(o[3]=[d("Create profile")])),_:1,__:[3]})]),_:1})]),_:1}),l(e(C),{fullscreen:!0},{default:t(()=>[l(e(p),{collapse:"condense"},{default:t(()=>[l(e(_),null,{default:t(()=>[l(e(V),{size:"large"},{default:t(()=>o[4]||(o[4]=[d("Create Profile")])),_:1,__:[4]})]),_:1})]),_:1}),y("form",{class:"ion-padding",onSubmit:B(I,["prevent"])},[s.error!=null?(f(),k("div",L,N(s.error),1)):v("",!0),l(e(w),null,{default:t(()=>[l(e(u),null,{default:t(()=>[l(e(m),{label:"First name",modelValue:a.fname,"onUpdate:modelValue":o[0]||(o[0]=r=>a.fname=r)},null,8,["modelValue"])]),_:1}),l(e(u),null,{default:t(()=>[l(e(m),{label:"Last name",modelValue:a.lname,"onUpdate:modelValue":o[1]||(o[1]=r=>a.lname=r)},null,8,["modelValue"])]),_:1}),l(e(u),null,{default:t(()=>[l(e(m),{label:"Telephone",modelValue:a.tel,"onUpdate:modelValue":o[2]||(o[2]=r=>a.tel=r)},null,8,["modelValue"])]),_:1}),l(e(u),{lines:"none"},{default:t(()=>[l(e(P),{expand:"block",style:{width:"100%","margin-top":"20px"},class:"ion-button",size:"default",type:"submit"},{default:t(()=>o[5]||(o[5]=[d("Save")])),_:1,__:[5]})]),_:1})]),_:1})],32)]),_:1})]),_:1}))}};export{D as default};
