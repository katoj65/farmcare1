System.register(["./index-legacy-D57LuCGN.js","./AppLayout-legacy-Bion1giV.js"],function(e,l){"use strict";var t,a,n,o,r,i,d,u,s,_,m,f,p,c,g,h,y,x,b,z,v,k,w,A,S,V,C,E,D,H,F,R,T,U,j,q,K,L,M,W,B;return{setters:[e=>{t=e.E,a=e.Q,n=e.Y,o=e.P,r=e._,i=e.a4,d=e.c,u=e.w,s=e.o,_=e.d,m=e.J,f=e.a,p=e.u,c=e.K,g=e.a5,h=e.R,y=e.D,x=e.x,b=e.N,z=e.s,v=e.a6,k=e.L,w=e.v,A=e.a7,S=e.F,V=e.e,C=e.S,E=e.T,D=e.U,H=e.a8,F=e.z,R=e.A,T=e.B,U=e.a9,j=e.C,q=e.a1,K=e.H,L=e.W,M=e.X,W=e.M},e=>{B=e._}],execute:function(){const l={key:0,style:{"padding-bottom":"100px"}},G={style:{"font-size":"18px","font-weight":"bold","text-transform":"capitalize"}},J={style:{"font-size":"18px","font-weight":"bold","text-transform":"capitalize"}},N={key:0,style:{padding:"10px",color:"red"}};e("default",{__name:"AnimalShow",setup(e){const O=t({animal:"",back:"",report:[]}),P=n();a(()=>{let e=P.path.split("/");o.from("animal").select("*,farm (name, location,tel,type,size,id)").eq("id",e[2]).then(e=>{null==e.error?(e.data.forEach(e=>{O.animal=e,O.back="/farm/show/"+e.farm.id}),o.from("animal_report").select("*").eq("animal_id",O.animal.id).then(e=>{null==e.error?O.report=e.data:console.log(e.error)}).catch(e=>{console.log(e)})):console.log(e.error)}).catch(e=>{console.log(e)})}),r(e=>{let l=e.split("-");return l[0]+"-"+l[1]+"-"+l[2]});const Q=i(!1),X=e=>{Q.value=e},Y=t({report:"",description:""}),I=t({error:null}),Z=e=>{let l="";return"animal temperature"===e?l="Degrees":"heartbeat"===e?l="Hbps":"environmental temperature"===e&&(l="Degrees"),l},$=()=>{let e=P.path.split("/");I.error=null,""==Y.report||""==Y.description?I.error="Fill in all fields":o.from("animal_report").insert([{animal_id:e[2],type:Y.report,description:Y.description,status:"active"}]).select().then(e=>{null==e.error?(X(!1),Y.description="",Y.report="",e.data.forEach(e=>{O.report.push(e)})):console.log(e.error)}).catch(e=>{console.log(e)})};return(e,t)=>(s(),d(B,{title:"Animal details",back:O.back},{default:u(()=>[""!=O.animal?(s(),_("div",l,[f(p(c),null,{default:u(()=>[f(p(g),{color:"light"},{default:u(()=>[f(p(h),null,{default:u(()=>[y("h4",G,x(O.animal.name),1)]),_:1}),f(p(b),{color:"dark"},{default:u(()=>[f(p(z),{"aria-hidden":"true",icon:p(v)},null,8,["icon"])]),_:1})]),_:1}),f(p(k),{lines:"none"},{default:u(()=>[f(p(h),null,{default:u(()=>t[4]||(t[4]=[w("Gender")])),_:1,__:[4]}),f(p(A),{color:"medium",style:{"font-size":"15px"}},{default:u(()=>[w(x(O.animal.gender),1)]),_:1})]),_:1}),f(p(k),{lines:"none"},{default:u(()=>[f(p(h),null,{default:u(()=>t[5]||(t[5]=[w("Tag")])),_:1,__:[5]}),f(p(A),{color:"medium",style:{"font-size":"15px"}},{default:u(()=>[w(x(O.animal.tag),1)]),_:1})]),_:1}),f(p(k),{lines:"none"},{default:u(()=>[f(p(h),null,{default:u(()=>t[6]||(t[6]=[w("Color")])),_:1,__:[6]}),f(p(A),{color:"medium",style:{"font-size":"17px"}},{default:u(()=>[w(x(O.animal.color),1)]),_:1})]),_:1}),f(p(k),{lines:"none"},{default:u(()=>[f(p(h),null,{default:u(()=>t[7]||(t[7]=[w("Weight")])),_:1,__:[7]}),f(p(A),{color:"medium",style:{"font-size":"15px"}},{default:u(()=>[w(x(O.animal.weight)+" Kgs ",1)]),_:1})]),_:1}),f(p(k),{lines:"none"},{default:u(()=>[f(p(h),null,{default:u(()=>t[8]||(t[8]=[w("Origin")])),_:1,__:[8]}),f(p(A),{color:"medium",style:{"text-transform":"capitalize","font-size":"15px"}},{default:u(()=>[w(x(O.animal.origin),1)]),_:1})]),_:1}),f(p(k),{lines:"none"},{default:u(()=>[f(p(h),null,{default:u(()=>t[9]||(t[9]=[w("Farm")])),_:1,__:[9]}),f(p(A),{color:"medium",style:{"text-transform":"capitalize","font-size":"15px"}},{default:u(()=>[w(x(O.animal.farm.name),1)]),_:1})]),_:1}),f(p(k),{lines:"none"},{default:u(()=>[f(p(h),null,{default:u(()=>t[10]||(t[10]=[w("Date added")])),_:1,__:[10]}),f(p(A),{color:"medium",style:{"text-transform":"capitalize","font-size":"10px"}},{default:u(()=>[w(x(O.animal.created_at),1)]),_:1})]),_:1}),f(p(g),{color:"light"},{default:u(()=>[f(p(h),null,{default:u(()=>t[11]||(t[11]=[w("Animal Health Report")])),_:1,__:[11]})]),_:1}),(s(!0),_(S,null,V(O.report,(e,l)=>(s(),d(p(k),{key:l},{default:u(()=>[f(p(h),{style:{"text-transform":"capitalize"}},{default:u(()=>[w(x(e.type),1)]),_:2},1024),f(p(A),{color:"medium",style:{"font-size":"15px"}},{default:u(()=>[w(x(e.description)+" "+x(Z(e.type)),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})])):m("",!0),f(p(C),{slot:"fixed",vertical:"bottom",horizontal:"end"},{default:u(()=>[f(p(E),{color:"dark",onClick:t[0]||(t[0]=e=>X(!0))},{default:u(()=>[f(p(z),{icon:p(D)},null,8,["icon"])]),_:1})]),_:1}),"animal details"==p(P).name?(s(),d(p(H),{key:1,"is-open":Q.value},{default:u(()=>[f(p(F),null,{default:u(()=>[f(p(R),null,{default:u(()=>[f(p(T),null,{default:u(()=>t[12]||(t[12]=[w("Add animal report")])),_:1,__:[12]}),f(p(U),{slot:"end"},{default:u(()=>[f(p(b),{onClick:t[1]||(t[1]=e=>X(!1))},{default:u(()=>t[13]||(t[13]=[w("Close")])),_:1,__:[13]})]),_:1})]),_:1})]),_:1}),f(p(j),null,{default:u(()=>[f(p(c),null,{default:u(()=>[f(p(g),{color:"light"},{default:u(()=>[f(p(h),null,{default:u(()=>[y("h4",J,[w(x(O.animal.name)+" ",1),f(p(q),{color:"dark"},{default:u(()=>[w(x(O.animal.tag),1)]),_:1})])]),_:1})]),_:1})]),_:1}),y("form",{style:{padding:"15px"},onSubmit:K($,["prevent"])},[f(p(c),{style:{border:"solid thin #e5e8e8","border-radius":"10px","padding-bottom":"15px"}},{default:u(()=>[null!=I.error?(s(),_("div",N,x(I.error),1)):m("",!0),f(p(k),null,{default:u(()=>[f(p(L),{label:"Report",placeholder:"Select option",modelValue:Y.report,"onUpdate:modelValue":t[2]||(t[2]=e=>Y.report=e)},{default:u(()=>[f(p(M),{value:"animal temperature"},{default:u(()=>t[14]||(t[14]=[w("Animal Temperature")])),_:1,__:[14]}),f(p(M),{value:"heartbeat"},{default:u(()=>t[15]||(t[15]=[w("Heartbeat")])),_:1,__:[15]}),f(p(M),{value:"environmental temperature"},{default:u(()=>t[16]||(t[16]=[w("Environmental temperature")])),_:1,__:[16]})]),_:1},8,["modelValue"])]),_:1}),f(p(k),null,{default:u(()=>[f(p(W),{label:"Measurements",placeholder:"Enter readings",type:"number",modelValue:Y.description,"onUpdate:modelValue":t[3]||(t[3]=e=>Y.description=e)},null,8,["modelValue"])]),_:1}),f(p(k),{lines:"none"},{default:u(()=>[f(p(b),{expand:"block",style:{width:"100%","margin-top":"20px"},class:"ion-button",size:"default",type:"submit"},{default:u(()=>t[17]||(t[17]=[w("Save")])),_:1,__:[17]})]),_:1})]),_:1})],32)]),_:1})]),_:1},8,["is-open"])):m("",!0)]),_:1},8,["back"]))}})}}});
