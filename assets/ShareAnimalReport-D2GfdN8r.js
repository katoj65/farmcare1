import{_ as y}from"./AppLayout-DqhTgnyn.js";import{y as c,z as I,A as S,B as p,c as _,w as o,C as z,o as m,d as g,Q as B,a as l,u as e,E as N,G as h,D as i,U as k,J as w,x as r,Z as u,v as d,s as b,a7 as C,F as R,e as V,af as A}from"./index-B-tXsQ86.js";const E={key:0,style:{"padding-bottom":"100px"}},L={style:{"font-size":"20px","font-weight":"bold","text-transform":"capitalize"}},q={class:"metadata-end-wrapper",slot:"end"},D={class:"metadata-end-wrapper",slot:"end"},K={__name:"ShareAnimalReport",setup(F){const t=c({animal:"",back:"",workers:[]}),x=z(),v=S();return I(()=>{let f=v.path.split("/");p.from("animal").select("*,farm(name, location,tel,type,size,id)").eq("id",f[2]).then(a=>{a.error==null?a.data.forEach(s=>{t.animal=s,t.back="/farm/show/"+s.farm.id,p.from("worker").select("*").eq("farm_id",s.farm.id).then(n=>{console.log(n),n.error==null?t.workers=n.data:console.log(n.error)}).catch(n=>{console.log(n)})}):console.log(a.error)}).catch(a=>{console.log(a)})}),c({report:"",description:""}),c({error:null}),(f,a)=>(m(),_(y,{title:"Share Report",back:t.back},{default:o(()=>[t.animal!=""?(m(),g("div",E,[l(e(N),null,{default:o(()=>[l(e(h),{lines:"none",color:"light"},{default:o(()=>[l(e(k),{slot:"start"},{default:o(()=>a[1]||(a[1]=[i("img",{alt:"Silhouette of a person's head",src:"https://ionicframework.com/docs/img/demos/avatar.svg"},null,-1)])),_:1,__:[1]}),l(e(w),null,{default:o(()=>[i("strong",L,r(t.animal.name),1),a[2]||(a[2]=i("br",null,null,-1)),l(e(u),{color:"medium",class:"ion-text-wrap"},{default:o(()=>[d(r(t.animal.gender)+" . "+r(t.animal.color)+" . "+r(t.animal.weight)+" Kgs ",1)]),_:1})]),_:1,__:[2]}),i("div",q,[l(e(u),{color:"medium",style:{"font-size":"15px"}},{default:o(()=>[l(e(b),{icon:e(C)},null,8,["icon"]),d(" "+r(t.animal.tag),1)]),_:1})])]),_:1}),(m(!0),g(R,null,V(t.workers,(s,n)=>(m(),_(e(h),{button:!0,detail:"false",key:n,lines:"none",style:{border:"solid thin #e5e8e8","margin-top":"5px",margin:"5px"},onClick:a[0]||(a[0]=$=>e(x).push("/animal/"+t.animal.id))},{default:o(()=>[l(e(k),{slot:"start"},{default:o(()=>a[3]||(a[3]=[i("img",{alt:"Silhouette of a person's head",src:"https://ionicframework.com/docs/img/demos/avatar.svg"},null,-1)])),_:1,__:[3]}),l(e(w),null,{default:o(()=>[i("strong",null,[d(r(s.firstname)+" "+r(s.lastname),1),a[4]||(a[4]=i("br",null,null,-1))]),l(e(u),{color:"medium",class:"ion-text-wrap"},{default:o(()=>[d(r(s.role)+" . "+r(s.tel),1)]),_:2},1024)]),_:2},1024),i("div",D,[l(e(b),{color:"medium",icon:e(A)},null,8,["icon"]),l(e(u),{color:"medium"},{default:o(()=>a[5]||(a[5]=[d(" Share")])),_:1,__:[5]})])]),_:2},1024))),128))]),_:1})])):B("",!0)]),_:1},8,["back"]))}};export{K as default};
