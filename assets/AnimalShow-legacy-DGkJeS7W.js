System.register(["./index-legacy-NjU0PJ0g.js","./AppLayout-legacy-OyGTGGmx.js"],function(e,t){"use strict";var l,a,n,o,r,i,u,d,s,m,p,c,f,_,h,y,g,x,b,v,z,k,w,A,S,V,E,R,C,D,H,j,F,M,U,q,G,K,L,P,T,W;return{setters:[e=>{l=e.y,a=e.z,n=e.A,o=e.B,r=e.a0,i=e.a2,u=e.c,d=e.w,s=e.o,m=e.d,p=e.Q,c=e.a,f=e.u,_=e.E,h=e.G,y=e.$,g=e.D,x=e.J,b=e.v,v=e.x,z=e.a3,k=e.S,w=e.s,A=e.a4,S=e._,V=e.F,E=e.e,R=e.a5,C=e.U,D=e.V,H=e.W,j=e.a6,F=e.K,M=e.L,U=e.M,q=e.a7,G=e.N,K=e.P,L=e.Y,P=e.Z,T=e.R},e=>{W=e._}],execute:function(){const t={key:0,style:{"padding-bottom":"100px"}},B={key:0,style:{"margin-top":"3px"}},I={style:{"font-size":"18px","font-weight":"bold","text-transform":"capitalize"}},J={style:{"font-size":"14px"}},N={key:0,style:{padding:"10px",color:"red"}};e("default",{__name:"AnimalShow",setup(e){const O=l({animal:"",back:"",report:[]}),Q=n();a(()=>{let e=Q.path.split("/");o.from("animal").select("*,farm (name, location,tel,type,size,id)").eq("id",e[2]).then(e=>{null==e.error?(e.data.forEach(e=>{O.animal=e,O.back="/farm/show/"+e.farm.id}),o.from("animal_report").select("type,description").eq("animal_id",O.animal.id).limit(3).then(e=>{null==e.error?O.report=e.data:console.log(e.error)}).catch(e=>{console.log(e)})):console.log(e.error)}).catch(e=>{console.log(e)})}),r(e=>{let t=e.split("-");return t[0]+"-"+t[1]+"-"+t[2]});const Y=i(!1),Z=e=>{Y.value=e},$=l({report:"",description:""}),X=l({error:null}),ee=e=>{let t="";return"animal temperature"===e?t="Degrees":"heartbeat"===e?t="Hbps":"environmental temperature"===e&&(t="Degrees"),t},te=()=>{let e=Q.path.split("/");X.error=null,""==$.report||""==$.description?X.error="Fill in all fields":o.from("animal_report").insert([{animal_id:e[2],type:$.report,description:$.description,status:"active"}]).select().then(e=>{null==e.error?(Z(!1),$.description="",$.report="",e.data.forEach(e=>{O.report.push(e)})):console.log(e.error)}).catch(e=>{console.log(e)})},le=(e,t)=>{let l=[];return"animal temperature"==e?t>35&&t<40?l.push({action:"Animal temperature normal."}):t>40?(l.push({action:"Antibiotics."}),l.push({action:"Isolation."})):l.push({action:"Move to animal to shade."}):"heartbeat"==e?t>=48&&t<=84?l.push({action:"Heartbeat is normal."}):t>84?l.push({action:"Refer to the veterinary doctor for heartbeat."}):l.push({action:"Refer to the veterinary doctor."}):"environmental temperature"==e&&(t>=20&&t<=35?l.push({action:"Environment temperature is normal."}):t>35&&(l.push({action:"Provide shade, clean water."}),l.push({action:"Adjust dietary needs."}))),l};return(e,l)=>(s(),u(W,{title:"Animal details",back:O.back},{default:d(()=>[""!=O.animal?(s(),m("div",t,[c(f(_),null,{default:d(()=>[c(f(h),{lines:"none",color:"light"},{default:d(()=>[c(f(y),null,{default:d(()=>l[4]||(l[4]=[g("img",{alt:"Silhouette of a person's head",src:"https://ionicframework.com/docs/img/demos/avatar.svg"},null,-1)])),_:1,__:[4]}),c(f(x),{style:{"font-size":"18px","font-weight":"bold","text-transform":"capitalize","margin-left":"10px"}},{default:d(()=>[b(v(O.animal.name),1)]),_:1}),c(f(z),{color:"medium",style:{"font-size":"15px"}},{default:d(()=>[c(f(k),{color:"light"},{default:d(()=>[c(f(w),{"aria-hidden":"true",icon:f(A)},null,8,["icon"])]),_:1})]),_:1})]),_:1}),c(f(h),{lines:"none"},{default:d(()=>[c(f(x),null,{default:d(()=>l[5]||(l[5]=[b("Gender")])),_:1,__:[5]}),c(f(z),{color:"medium",style:{"font-size":"15px"}},{default:d(()=>[b(v(O.animal.gender),1)]),_:1})]),_:1}),c(f(h),{lines:"none"},{default:d(()=>[c(f(x),null,{default:d(()=>l[6]||(l[6]=[b("Tag")])),_:1,__:[6]}),c(f(z),{color:"medium",style:{"font-size":"15px"}},{default:d(()=>[b(v(O.animal.tag),1)]),_:1})]),_:1}),c(f(h),{lines:"none"},{default:d(()=>[c(f(x),null,{default:d(()=>l[7]||(l[7]=[b("Color")])),_:1,__:[7]}),c(f(z),{color:"medium",style:{"font-size":"17px"}},{default:d(()=>[b(v(O.animal.color),1)]),_:1})]),_:1}),c(f(h),{lines:"none"},{default:d(()=>[c(f(x),null,{default:d(()=>l[8]||(l[8]=[b("Weight")])),_:1,__:[8]}),c(f(z),{color:"medium",style:{"font-size":"15px"}},{default:d(()=>[b(v(O.animal.weight)+" Kgs ",1)]),_:1})]),_:1}),c(f(h),{lines:"none"},{default:d(()=>[c(f(x),null,{default:d(()=>l[9]||(l[9]=[b("Origin")])),_:1,__:[9]}),c(f(z),{color:"medium",style:{"text-transform":"capitalize","font-size":"15px"}},{default:d(()=>[b(v(O.animal.origin),1)]),_:1})]),_:1}),c(f(h),{lines:"none"},{default:d(()=>[c(f(x),null,{default:d(()=>l[10]||(l[10]=[b("Farm")])),_:1,__:[10]}),c(f(z),{color:"medium",style:{"text-transform":"capitalize","font-size":"15px"}},{default:d(()=>[b(v(O.animal.farm.name),1)]),_:1})]),_:1}),c(f(h),{lines:"none"},{default:d(()=>[c(f(x),null,{default:d(()=>l[11]||(l[11]=[b("Date added")])),_:1,__:[11]}),c(f(z),{color:"medium",style:{"text-transform":"capitalize","font-size":"10px"}},{default:d(()=>[b(v(O.animal.created_at),1)]),_:1})]),_:1}),c(f(S),{color:"light"},{default:d(()=>[c(f(x),{style:{"font-weight":"bold"}},{default:d(()=>l[12]||(l[12]=[b(" Animal Health Report")])),_:1,__:[12]}),O.report.length>0?(s(),u(f(k),{key:0,color:"dark"},{default:d(()=>l[13]||(l[13]=[g("span",{class:"material-icons"},"share",-1)])),_:1,__:[13]})):p("",!0)]),_:1}),(s(!0),m(V,null,E(O.report,(e,t)=>(s(),u(f(h),{key:t,color:"light",style:{"margin-top":"3px"},lines:"none"},{default:d(()=>[c(f(x),{style:{"text-transform":"capitalize"}},{default:d(()=>[b(v(e.type),1)]),_:2},1024),c(f(z),{color:"medium",style:{"font-size":"15px"}},{default:d(()=>[b(v(e.description)+" "+v(ee(e.type)),1)]),_:2},1024)]),_:2},1024))),128)),O.report.length>0?(s(),m("div",B,[c(f(h),{lines:"full"},{default:d(()=>l[14]||(l[14]=[g("h6",{style:{"font-weight":"bold"}},"Recommendations",-1)])),_:1,__:[14]}),(s(!0),m(V,null,E(O.report,(e,t)=>(s(),u(f(_),{key:t},{default:d(()=>[(s(!0),m(V,null,E(le(e.type,e.description),(e,t)=>(s(),u(f(h),{key:t,lines:"full"},{default:d(()=>[c(f(w),{icon:f(R)},null,8,["icon"]),c(f(x),null,{default:d(()=>[b(v(e.action),1)]),_:2},1024)]),_:2},1024))),128))]),_:2},1024))),128))])):p("",!0)]),_:1})])):p("",!0),c(f(C),{slot:"fixed",vertical:"bottom",horizontal:"end"},{default:d(()=>[c(f(D),{color:"dark",onClick:l[0]||(l[0]=e=>Z(!0))},{default:d(()=>[c(f(w),{icon:f(H)},null,8,["icon"])]),_:1})]),_:1}),"animal details"==f(Q).name?(s(),u(f(j),{key:1,"is-open":Y.value},{default:d(()=>[c(f(F),null,{default:d(()=>[c(f(M),null,{default:d(()=>[c(f(U),null,{default:d(()=>l[15]||(l[15]=[b("Add animal report")])),_:1,__:[15]}),c(f(q),{slot:"end"},{default:d(()=>[c(f(k),{onClick:l[1]||(l[1]=e=>Z(!1))},{default:d(()=>l[16]||(l[16]=[b("Close")])),_:1,__:[16]})]),_:1})]),_:1})]),_:1}),c(f(G),null,{default:d(()=>[c(f(_),null,{default:d(()=>[c(f(S),{color:"light"},{default:d(()=>[c(f(x),null,{default:d(()=>[g("h4",I,v(O.animal.name),1)]),_:1}),g("span",J,v(O.animal.tag),1)]),_:1})]),_:1}),g("form",{style:{padding:"15px"},onSubmit:K(te,["prevent"])},[c(f(_),{style:{border:"solid thin #e5e8e8","border-radius":"10px","padding-bottom":"15px"}},{default:d(()=>[null!=X.error?(s(),m("div",N,v(X.error),1)):p("",!0),c(f(h),null,{default:d(()=>[c(f(L),{label:"Report",placeholder:"Select option",modelValue:$.report,"onUpdate:modelValue":l[2]||(l[2]=e=>$.report=e)},{default:d(()=>[c(f(P),{value:"animal temperature"},{default:d(()=>l[17]||(l[17]=[b("Animal Temperature")])),_:1,__:[17]}),c(f(P),{value:"heartbeat"},{default:d(()=>l[18]||(l[18]=[b("Heartbeat")])),_:1,__:[18]}),c(f(P),{value:"environmental temperature"},{default:d(()=>l[19]||(l[19]=[b("Environmental temperature")])),_:1,__:[19]})]),_:1},8,["modelValue"])]),_:1}),c(f(h),null,{default:d(()=>[c(f(T),{label:"Measurements",placeholder:"Enter readings",type:"number",modelValue:$.description,"onUpdate:modelValue":l[3]||(l[3]=e=>$.description=e)},null,8,["modelValue"])]),_:1}),c(f(h),{lines:"none"},{default:d(()=>[c(f(k),{expand:"block",style:{width:"100%","margin-top":"20px"},class:"ion-button",size:"default",type:"submit"},{default:d(()=>l[20]||(l[20]=[b("Save")])),_:1,__:[20]})]),_:1})]),_:1})],32)]),_:1})]),_:1},8,["is-open"])):p("",!0)]),_:1},8,["back"]))}})}}});
