import{_ as I}from"./AppLayout-wx50JKNV.js";import{y as f,c as m,w as t,o as u,a as s,Q as y,u as a,Y as b,E as _,d as v,F as x,e as V,G as p,D as d,U as N,J as g,x as c,Z as h,v as i,s as B,_ as S,B as L}from"./index-D_gUnvTk.js";const C={class:"metadata-end-wrapper",slot:"end"},U={__name:"Search",setup(D){const o=f({search:""}),l=f({search:[],status:null}),k=async()=>{if(l.status=null,o.search.length>1){const n=await L.from("animal").select("*,farm(name)").ilike("name","%"+o.search+"%");n.error==null?(l.search=n.data,l.status=n.data.length):console.log(n.error)}};return(n,e)=>(u(),m(I,{title:"Search",back:"/"},{default:t(()=>[s(a(b),{modelValue:o.search,"onUpdate:modelValue":e[0]||(e[0]=r=>o.search=r),onKeydown:k},null,8,["modelValue"]),l.status>0?(u(),m(a(_),{key:0},{default:t(()=>[(u(!0),v(x,null,V(l.search,(r,w)=>(u(),m(a(p),{button:!0,detail:"false",key:w},{default:t(()=>[s(a(N),{slot:"start"},{default:t(()=>e[1]||(e[1]=[d("img",{alt:"Silhouette of a person's head",src:"https://ionicframework.com/docs/img/demos/avatar.svg"},null,-1)])),_:1,__:[1]}),e[3]||(e[3]=d("div",{class:"unread-indicator-wrapper",slot:"start"},null,-1)),s(a(g),null,{default:t(()=>[d("strong",null,c(r.name),1),e[2]||(e[2]=d("br",null,null,-1)),s(a(h),{color:"medium",class:"ion-text-wrap"},{default:t(()=>[i(c(r.color)+" . "+c(r.farm.name),1)]),_:2},1024)]),_:2,__:[2]},1024),d("div",C,[s(a(B),{color:"medium",icon:a(S)},null,8,["icon"]),s(a(h),{color:"medium",style:{"padding-left":"5px"}},{default:t(()=>[i(c(r.tag),1)]),_:2},1024)])]),_:2,__:[3]},1024))),128))]),_:1})):o.search!=""&&l.status==0?(u(),m(a(_),{key:1},{default:t(()=>[s(a(p),null,{default:t(()=>[s(a(g),null,{default:t(()=>e[4]||(e[4]=[i(" No results found ")])),_:1,__:[4]})]),_:1})]),_:1})):y("",!0)]),_:1}))}};export{U as default};
