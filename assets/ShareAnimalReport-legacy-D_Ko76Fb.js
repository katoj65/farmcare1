System.register(["./AppLayout-legacy-1UMSTf8P.js","./index-legacy-CrSJ8ZAT.js"],function(e,a){"use strict";var l,t,o,r,n,i,s,c,m,d,u,f,p,_,g,h,w,k,y,b,x,v,S,z,A,q;return{setters:[e=>{l=e._},e=>{t=e.y,o=e.z,r=e.A,n=e.B,i=e.c,s=e.w,c=e.C,m=e.o,d=e.d,u=e.R,f=e.a,p=e.u,_=e.E,g=e.G,h=e.D,w=e.V,k=e.J,y=e.x,b=e.L,x=e.v,v=e.s,S=e.a7,z=e.F,A=e.e,q=e.aa}],execute:function(){const a={key:0,style:{"padding-bottom":"100px"}},C={style:{"font-size":"20px","font-weight":"bold","text-transform":"capitalize"}},R={class:"metadata-end-wrapper",slot:"end"},j={class:"metadata-end-wrapper",slot:"end"};e("default",{__name:"ShareAnimalReport",setup(e){const E=t({animal:"",back:"",workers:[]}),L=c(),B=r();return o(()=>{let e=B.path.split("/");n.from("animal").select("*,farm(name, location,tel,type,size,id)").eq("id",e[2]).then(e=>{null==e.error?e.data.forEach(e=>{E.animal=e,E.back="/farm/show/"+e.farm.id,n.from("worker").select("*").eq("farm_id",e.farm.id).then(e=>{null==e.error?E.workers=e.data:console.log(e.error)}).catch(e=>{console.log(e)})}):console.log(e.error)}).catch(e=>{console.log(e)})}),t({report:"",description:""}),t({error:null}),(e,t)=>(m(),i(l,{title:"Share Report",back:E.back},{default:s(()=>[""!=E.animal?(m(),d("div",a,[f(p(_),null,{default:s(()=>[f(p(g),{lines:"none",color:"light"},{default:s(()=>[f(p(w),{slot:"start"},{default:s(()=>t[0]||(t[0]=[h("img",{alt:"Silhouette of a person's head",src:"https://ionicframework.com/docs/img/demos/avatar.svg"},null,-1)])),_:1,__:[0]}),f(p(k),null,{default:s(()=>[h("strong",C,y(E.animal.name),1),t[1]||(t[1]=h("br",null,null,-1)),f(p(b),{color:"medium",class:"ion-text-wrap"},{default:s(()=>[x(y(E.animal.gender)+" . "+y(E.animal.color)+" . "+y(E.animal.weight)+" Kgs ",1)]),_:1})]),_:1,__:[1]}),h("div",R,[f(p(b),{color:"medium",style:{"font-size":"15px"}},{default:s(()=>[f(p(v),{icon:p(S)},null,8,["icon"]),x(" "+y(E.animal.tag),1)]),_:1})])]),_:1}),(m(!0),d(z,null,A(E.workers,(e,a)=>(m(),i(p(g),{button:!0,detail:"false",key:a,lines:"none",style:{border:"solid thin #e5e8e8","margin-top":"5px",margin:"5px"},onClick:a=>(async e=>{const a=E.animal.id,l=await n.from("animal_report").select("*").eq("animal_id",a),t={...l.data};null==l.error?(await n.from("message").insert([{animal_id:a,worker_id:e.id,message:t}]).select(),L.push("/animal/"+a)):console.log(l.error)})(e)},{default:s(()=>[f(p(w),{slot:"start"},{default:s(()=>t[2]||(t[2]=[h("img",{alt:"Silhouette of a person's head",src:"https://ionicframework.com/docs/img/demos/avatar.svg"},null,-1)])),_:1,__:[2]}),f(p(k),null,{default:s(()=>[h("strong",null,[x(y(e.firstname)+" "+y(e.lastname),1),t[3]||(t[3]=h("br",null,null,-1))]),f(p(b),{color:"medium",class:"ion-text-wrap"},{default:s(()=>[x(y(e.role)+" . 0"+y(e.tel),1)]),_:2},1024)]),_:2},1024),h("div",j,[f(p(v),{color:"medium",icon:p(q)},null,8,["icon"]),f(p(b),{color:"medium"},{default:s(()=>t[4]||(t[4]=[x(" Share")])),_:1,__:[4]})])]),_:2},1032,["onClick"]))),128))]),_:1})])):u("",!0)]),_:1},8,["back"]))}})}}});
