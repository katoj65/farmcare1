System.register(["./AppLayout-legacy-Cul5ftay.js","./index-legacy-DUKJ6Ket.js"],function(e,a){"use strict";var l,t,s,n,u,r,o,c,d,i,m,f,_,h,p,g,y,k,w,v,x,S,b,C;return{setters:[e=>{l=e._},e=>{t=e.y,s=e.c,n=e.w,u=e.C,r=e.o,o=e.a,c=e.Q,d=e.u,i=e.Y,m=e.E,f=e.d,_=e.F,h=e.e,p=e.G,g=e.D,y=e.U,k=e.J,w=e.x,v=e.Z,x=e.v,S=e.s,b=e._,C=e.B}],execute:function(){const a={class:"metadata-end-wrapper",slot:"end"};e("default",{__name:"Search",setup(e){const V=t({search:""}),j=t({search:[],status:null}),A=u(),U=async()=>{if(j.status=null,V.search.length>1){const e=await C.from("animal").select("*,farm(name)").ilike("name","%"+V.search+"%");null==e.error?(j.search=e.data,j.status=e.data.length):console.log(e.error)}};return(e,t)=>(r(),s(l,{title:"Search",back:"/"},{default:n(()=>[o(d(i),{modelValue:V.search,"onUpdate:modelValue":t[0]||(t[0]=e=>V.search=e),onKeydown:U},null,8,["modelValue"]),j.status>0?(r(),s(d(m),{key:0},{default:n(()=>[(r(!0),f(_,null,h(j.search,(e,l)=>(r(),s(d(p),{button:!0,detail:"false",key:l,lines:"full",onClick:a=>d(A).push("/animal/"+e.id)},{default:n(()=>[o(d(y),{slot:"start"},{default:n(()=>t[1]||(t[1]=[g("img",{alt:"Silhouette of a person's head",src:"https://ionicframework.com/docs/img/demos/avatar.svg"},null,-1)])),_:1,__:[1]}),t[3]||(t[3]=g("div",{class:"unread-indicator-wrapper",slot:"start"},null,-1)),o(d(k),null,{default:n(()=>[g("strong",null,w(e.name),1),t[2]||(t[2]=g("br",null,null,-1)),o(d(v),{color:"medium",class:"ion-text-wrap"},{default:n(()=>[x(w(e.color)+" . "+w(e.farm.name),1)]),_:2},1024)]),_:2,__:[2]},1024),g("div",a,[o(d(S),{color:"medium",icon:d(b)},null,8,["icon"]),o(d(v),{color:"medium",style:{"padding-left":"5px"}},{default:n(()=>[x(w(e.tag),1)]),_:2},1024)])]),_:2,__:[3]},1032,["onClick"]))),128))]),_:1})):""!=V.search&&0==j.status?(r(),s(d(m),{key:1},{default:n(()=>[o(d(p),null,{default:n(()=>[o(d(k),null,{default:n(()=>t[4]||(t[4]=[x(" No results found ")])),_:1,__:[4]})]),_:1})]),_:1})):c("",!0)]),_:1}))}})}}});
