import{y as i,c as x,w as o,A as v,C as k,o as g,D as f,P as w,a,u as t,E as I,G as r,J as E,d as S,Q as B,x as U,R as m,$ as V,a0 as u,v as d,S as F,B as A}from"./index-B55OlagZ.js";import{_ as N}from"./FarmLayout-C9eANdrd.js";import"./AppLayout-kHqbpCg3.js";const C={style:{"padding-bottom":"100px"}},D={key:0,style:{color:"red"}},G={__name:"FarmAddWorker",setup(L){const l=i({fname:"",lname:"",gender:"",age:"",tel:"",id:"",role:""}),s=i({error:null,success:null});i({animal:""});const _=v(),b=k(),y=()=>{s.error=null;let p=_.path.split("/");l.id=p[3],l.fname==""||l.lname==""||l.age==""||l.gender==""||l.tel==""?s.error="Fill in all fields.":A.from("worker").insert([{farm_id:l.id,firstname:l.fname,lastname:l.lname,gender:l.gender,age:l.age,tel:l.tel,role:l.role}]).select().then(e=>{e.error==null?e.data.forEach(n=>{b.push("/worker/show/"+n.id)}):console.log(e.error)}).catch(e=>{console.log(e)})};return(p,e)=>(g(),x(N,null,{default:o(()=>[f("div",C,[f("form",{onSubmit:w(y,["prevent"])},[a(t(I),{style:{border:"solid thin #e5e8e8",padding:"10px"},inset:!0},{default:o(()=>[a(t(r),{lines:"none"},{default:o(()=>[a(t(E),null,{default:o(()=>[e[6]||(e[6]=f("h4",{style:{"font-weight":"bolder","font-size":"18px"}}," Add farm worker ",-1)),s.error!=null?(g(),S("div",D,U(s.error),1)):B("",!0)]),_:1,__:[6]})]),_:1}),a(t(r),null,{default:o(()=>[a(t(m),{label:"First name",placeholder:"Enter first name",modelValue:l.fname,"onUpdate:modelValue":e[0]||(e[0]=n=>l.fname=n)},null,8,["modelValue"])]),_:1}),a(t(r),null,{default:o(()=>[a(t(m),{label:"Last name",placeholder:"Enter last name",modelValue:l.lname,"onUpdate:modelValue":e[1]||(e[1]=n=>l.lname=n)},null,8,["modelValue"])]),_:1}),a(t(r),null,{default:o(()=>[a(t(V),{label:"Gender",placeholder:"Select gender",modelValue:l.gender,"onUpdate:modelValue":e[2]||(e[2]=n=>l.gender=n)},{default:o(()=>[a(t(u),{value:"male"},{default:o(()=>e[7]||(e[7]=[d("Male")])),_:1,__:[7]}),a(t(u),{value:"female"},{default:o(()=>e[8]||(e[8]=[d("Female")])),_:1,__:[8]})]),_:1},8,["modelValue"])]),_:1}),a(t(r),null,{default:o(()=>[a(t(m),{label:"Age",placeholder:"Enter age",modelValue:l.age,"onUpdate:modelValue":e[3]||(e[3]=n=>l.age=n),type:"number"},null,8,["modelValue"])]),_:1}),a(t(r),null,{default:o(()=>[a(t(m),{label:"Telephone",placeholder:"Enter telephone number",type:"number",modelValue:l.tel,"onUpdate:modelValue":e[4]||(e[4]=n=>l.tel=n)},null,8,["modelValue"])]),_:1}),a(t(r),null,{default:o(()=>[a(t(V),{label:"Designation",placeholder:"Select designation",modelValue:l.role,"onUpdate:modelValue":e[5]||(e[5]=n=>l.role=n)},{default:o(()=>[a(t(u),{value:"manager"},{default:o(()=>e[9]||(e[9]=[d("Farm Manager")])),_:1,__:[9]}),a(t(u),{value:"extension"},{default:o(()=>e[10]||(e[10]=[d("Extension Worker")])),_:1,__:[10]}),a(t(u),{value:"veterinary"},{default:o(()=>e[11]||(e[11]=[d("Veterinary Officer")])),_:1,__:[11]})]),_:1},8,["modelValue"])]),_:1}),a(t(r),{lines:"none",style:{"padding-bottom":"10px"}},{default:o(()=>[a(t(F),{expand:"block",style:{width:"100%","margin-top":"20px"},class:"ion-button",size:"default",type:"submit"},{default:o(()=>e[12]||(e[12]=[d("Save")])),_:1,__:[12]})]),_:1})]),_:1})],32)])]),_:1}))}};export{G as default};
