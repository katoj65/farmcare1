import{d as x,G as i,c as z,w as n,E as I,b as p,H as g,a as l,y as f,u as a,K as r,L as m,X as k,r as v,F as E,M as F,x as c,J as N,N as w,O as B,o as d,Y as C,Q as S,P as U}from"./index-DJTKCj60.js";import{_ as L}from"./AppLayout.vue_vue_type_script_setup_true_lang-LKhFfBe0.js";const M={key:0,style:{color:"red",padding:"10px"}},A=x({__name:"CreateFarm",setup(T){const V=[{name:"Animals only"},{name:"Mixed"}],e=i({name:"",location:"",tel:"",size:"",type:"",contact:""}),s=i({error:null,success:null}),b=B(),y=()=>{e.name!=""||e.location!=""||e.tel!=""||e.size!=""||e.type!=""||e.contact!=""?(s.error="",S.from("farm").insert([{user_email:U.state.user,name:e.name,location:e.location,tel:e.tel,type:e.type,tel:e.contact,size:e.size}]).select().then(u=>{u.error==null&&b.push("/farm")}).catch(u=>{console.log(u)})):s.error="Fill in all fields"};return(u,t)=>(d(),z(L,{title:"New farm",back:"/farm"},{default:n(()=>[I("form",{onSubmit:w(y,["prevent"])},[s.error!=null?(d(),p("div",M,f(s.error),1)):g("",!0),l(a(N),null,{default:n(()=>[l(a(r),null,{default:n(()=>[l(a(m),{label:"Farm name",placeholder:"Enter name of farm",modelValue:e.name,"onUpdate:modelValue":t[0]||(t[0]=o=>e.name=o)},null,8,["modelValue"])]),_:1}),l(a(r),null,{default:n(()=>[l(a(m),{label:"Location",placeholder:"Enter farm location",modelValue:e.location,"onUpdate:modelValue":t[1]||(t[1]=o=>e.location=o)},null,8,["modelValue"])]),_:1}),l(a(r),null,{default:n(()=>[l(a(m),{label:"Farm size",placeholder:"Enter farm size",modelValue:e.size,"onUpdate:modelValue":t[2]||(t[2]=o=>e.size=o)},null,8,["modelValue"])]),_:1}),l(a(r),null,{default:n(()=>[l(a(k),{label:"Type of farm","label-placement":"floating",modelValue:e.type,"onUpdate:modelValue":t[3]||(t[3]=o=>e.type=o)},{default:n(()=>[(d(),p(E,null,v(V,(o,_)=>l(a(C),{value:o.name,key:_},{default:n(()=>[c(f(o.name),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"])]),_:1}),l(a(r),null,{default:n(()=>[l(a(m),{label:"Contact",placeholder:"Enter telephone number",modelValue:e.contact,"onUpdate:modelValue":t[4]||(t[4]=o=>e.contact=o),type:"number"},null,8,["modelValue"])]),_:1}),l(a(r),{lines:"none"},{default:n(()=>[l(a(F),{expand:"block",style:{width:"100%","margin-top":"20px"},class:"ion-button",size:"default",type:"submit"},{default:n(()=>t[5]||(t[5]=[c("Save")])),_:1,__:[5]})]),_:1})]),_:1})],32)]),_:1}))}});export{A as default};
