System.register(["./index-legacy-DNEnEceQ.js","./AppLayout-legacy-BDsLpPTf.js"],function(e,l){"use strict";var t,a,o,n,r,i,d,u,s,m,_,f,p,c,g,h,y,x,b,z,v,k,w,A,S,V,C,E,D,H,T,F,R,U,j,q,K,L,M,W,B,G;return{setters:[e=>{t=e.E,a=e.Q,o=e.Y,n=e.P,r=e.$,i=e.a1,d=e.c,u=e.w,s=e.o,m=e.d,_=e.J,f=e.a,p=e.u,c=e.K,g=e.L,h=e._,y=e.D,x=e.R,b=e.v,z=e.x,v=e.a2,k=e.N,w=e.s,A=e.a3,S=e.Z,V=e.F,C=e.e,E=e.S,D=e.T,H=e.U,T=e.a4,F=e.z,R=e.A,U=e.B,j=e.a5,q=e.C,K=e.a6,L=e.H,M=e.W,W=e.X,B=e.M},e=>{G=e._}],execute:function(){const l={key:0,style:{"padding-bottom":"100px"}},J={style:{"font-size":"18px","font-weight":"bold","text-transform":"capitalize"}},N={key:0,style:{padding:"10px",color:"red"}};e("default",{__name:"AnimalShow",setup(e){const O=t({animal:"",back:"",report:[]}),P=o();a(()=>{let e=P.path.split("/");n.from("animal").select("*,farm (name, location,tel,type,size,id)").eq("id",e[2]).then(e=>{null==e.error?(e.data.forEach(e=>{O.animal=e,O.back="/farm/show/"+e.farm.id}),n.from("animal_report").select("type,description").eq("animal_id",O.animal.id).limit(3).then(e=>{null==e.error?O.report=e.data:console.log(e.error)}).catch(e=>{console.log(e)})):console.log(e.error)}).catch(e=>{console.log(e)})}),r(e=>{let l=e.split("-");return l[0]+"-"+l[1]+"-"+l[2]});const Q=i(!1),X=e=>{Q.value=e},Y=t({report:"",description:""}),Z=t({error:null}),$=e=>{let l="";return"animal temperature"===e?l="Degrees":"heartbeat"===e?l="Hbps":"environmental temperature"===e&&(l="Degrees"),l},I=()=>{let e=P.path.split("/");Z.error=null,""==Y.report||""==Y.description?Z.error="Fill in all fields":n.from("animal_report").insert([{animal_id:e[2],type:Y.report,description:Y.description,status:"active"}]).select().then(e=>{null==e.error?(X(!1),Y.description="",Y.report="",e.data.forEach(e=>{O.report.push(e)})):console.log(e.error)}).catch(e=>{console.log(e)})};return(e,t)=>(s(),d(G,{title:"Animal details",back:O.back},{default:u(()=>[""!=O.animal?(s(),m("div",l,[f(p(c),null,{default:u(()=>[f(p(g),{lines:"none",color:"light"},{default:u(()=>[f(p(h),null,{default:u(()=>t[4]||(t[4]=[y("img",{alt:"Silhouette of a person's head",src:"https://ionicframework.com/docs/img/demos/avatar.svg"},null,-1)])),_:1,__:[4]}),f(p(x),{style:{"font-size":"18px","font-weight":"bold","text-transform":"capitalize","margin-left":"10px"}},{default:u(()=>[b(z(O.animal.name),1)]),_:1}),f(p(v),{color:"medium",style:{"font-size":"15px"}},{default:u(()=>[f(p(k),{color:"light"},{default:u(()=>[f(p(w),{"aria-hidden":"true",icon:p(A)},null,8,["icon"])]),_:1})]),_:1})]),_:1}),f(p(g),{lines:"none"},{default:u(()=>[f(p(x),null,{default:u(()=>t[5]||(t[5]=[b("Gender")])),_:1,__:[5]}),f(p(v),{color:"medium",style:{"font-size":"15px"}},{default:u(()=>[b(z(O.animal.gender),1)]),_:1})]),_:1}),f(p(g),{lines:"none"},{default:u(()=>[f(p(x),null,{default:u(()=>t[6]||(t[6]=[b("Tag")])),_:1,__:[6]}),f(p(v),{color:"medium",style:{"font-size":"15px"}},{default:u(()=>[b(z(O.animal.tag),1)]),_:1})]),_:1}),f(p(g),{lines:"none"},{default:u(()=>[f(p(x),null,{default:u(()=>t[7]||(t[7]=[b("Color")])),_:1,__:[7]}),f(p(v),{color:"medium",style:{"font-size":"17px"}},{default:u(()=>[b(z(O.animal.color),1)]),_:1})]),_:1}),f(p(g),{lines:"none"},{default:u(()=>[f(p(x),null,{default:u(()=>t[8]||(t[8]=[b("Weight")])),_:1,__:[8]}),f(p(v),{color:"medium",style:{"font-size":"15px"}},{default:u(()=>[b(z(O.animal.weight)+" Kgs ",1)]),_:1})]),_:1}),f(p(g),{lines:"none"},{default:u(()=>[f(p(x),null,{default:u(()=>t[9]||(t[9]=[b("Origin")])),_:1,__:[9]}),f(p(v),{color:"medium",style:{"text-transform":"capitalize","font-size":"15px"}},{default:u(()=>[b(z(O.animal.origin),1)]),_:1})]),_:1}),f(p(g),{lines:"none"},{default:u(()=>[f(p(x),null,{default:u(()=>t[10]||(t[10]=[b("Farm")])),_:1,__:[10]}),f(p(v),{color:"medium",style:{"text-transform":"capitalize","font-size":"15px"}},{default:u(()=>[b(z(O.animal.farm.name),1)]),_:1})]),_:1}),f(p(g),{lines:"none"},{default:u(()=>[f(p(x),null,{default:u(()=>t[11]||(t[11]=[b("Date added")])),_:1,__:[11]}),f(p(v),{color:"medium",style:{"text-transform":"capitalize","font-size":"10px"}},{default:u(()=>[b(z(O.animal.created_at),1)]),_:1})]),_:1}),f(p(S),{color:"light"},{default:u(()=>[f(p(x),{style:{"font-weight":"bold"}},{default:u(()=>t[12]||(t[12]=[b(" Animal Health Report")])),_:1,__:[12]}),O.report.length>0?(s(),d(p(k),{key:0,color:"dark"},{default:u(()=>t[13]||(t[13]=[y("span",{class:"material-icons"},"share",-1)])),_:1,__:[13]})):_("",!0)]),_:1}),(s(!0),m(V,null,C(O.report,(e,l)=>(s(),d(p(g),{key:l,color:"light",style:{"margin-top":"3px"},lines:"none"},{default:u(()=>[f(p(x),{style:{"text-transform":"capitalize"}},{default:u(()=>[b(z(e.type),1)]),_:2},1024),f(p(v),{color:"medium",style:{"font-size":"15px"}},{default:u(()=>[b(z(e.description)+" "+z($(e.type)),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})])):_("",!0),f(p(E),{slot:"fixed",vertical:"bottom",horizontal:"end"},{default:u(()=>[f(p(D),{color:"dark",onClick:t[0]||(t[0]=e=>X(!0))},{default:u(()=>[f(p(w),{icon:p(H)},null,8,["icon"])]),_:1})]),_:1}),"animal details"==p(P).name?(s(),d(p(T),{key:1,"is-open":Q.value},{default:u(()=>[f(p(F),null,{default:u(()=>[f(p(R),null,{default:u(()=>[f(p(U),null,{default:u(()=>t[14]||(t[14]=[b("Add animal report")])),_:1,__:[14]}),f(p(j),{slot:"end"},{default:u(()=>[f(p(k),{onClick:t[1]||(t[1]=e=>X(!1))},{default:u(()=>t[15]||(t[15]=[b("Close")])),_:1,__:[15]})]),_:1})]),_:1})]),_:1}),f(p(q),null,{default:u(()=>[f(p(c),null,{default:u(()=>[f(p(S),{color:"light"},{default:u(()=>[f(p(x),null,{default:u(()=>[y("h4",J,z(O.animal.name),1)]),_:1}),f(p(K),{color:"light",style:{border:"solid thin #e5e8e8"}},{default:u(()=>[b(" Tag: "+z(O.animal.tag),1)]),_:1})]),_:1})]),_:1}),y("form",{style:{padding:"15px"},onSubmit:L(I,["prevent"])},[f(p(c),{style:{border:"solid thin #e5e8e8","border-radius":"10px","padding-bottom":"15px"}},{default:u(()=>[null!=Z.error?(s(),m("div",N,z(Z.error),1)):_("",!0),f(p(g),null,{default:u(()=>[f(p(M),{label:"Report",placeholder:"Select option",modelValue:Y.report,"onUpdate:modelValue":t[2]||(t[2]=e=>Y.report=e)},{default:u(()=>[f(p(W),{value:"animal temperature"},{default:u(()=>t[16]||(t[16]=[b("Animal Temperature")])),_:1,__:[16]}),f(p(W),{value:"heartbeat"},{default:u(()=>t[17]||(t[17]=[b("Heartbeat")])),_:1,__:[17]}),f(p(W),{value:"environmental temperature"},{default:u(()=>t[18]||(t[18]=[b("Environmental temperature")])),_:1,__:[18]})]),_:1},8,["modelValue"])]),_:1}),f(p(g),null,{default:u(()=>[f(p(B),{label:"Measurements",placeholder:"Enter readings",type:"number",modelValue:Y.description,"onUpdate:modelValue":t[3]||(t[3]=e=>Y.description=e)},null,8,["modelValue"])]),_:1}),f(p(g),{lines:"none"},{default:u(()=>[f(p(k),{expand:"block",style:{width:"100%","margin-top":"20px"},class:"ion-button",size:"default",type:"submit"},{default:u(()=>t[19]||(t[19]=[b("Save")])),_:1,__:[19]})]),_:1})]),_:1})],32)]),_:1})]),_:1},8,["is-open"])):_("",!0)]),_:1},8,["back"]))}})}}});
