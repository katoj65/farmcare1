import{E as i,c as x,w as n,G as z,o as d,D as I,H as g,d as p,J as k,a as l,x as f,u as a,K as v,L as r,M as m,W as E,F,e as N,X as w,v as c,N as B,P as S,O as U}from"./index-DQX36B1p.js";import{_ as C}from"./AppLayout-Pi4sLD-t.js";const L={key:0,style:{color:"red",padding:"10px"}},O={__name:"CreateFarm",setup(M){const V=[{name:"Animals only"},{name:"Mixed"}],e=i({name:"",location:"",tel:"",size:"",type:"",contact:""}),s=i({error:null,success:null}),y=z(),b=()=>{e.name!=""||e.location!=""||e.tel!=""||e.size!=""||e.type!=""||e.contact!=""?(s.error="",S.from("farm").insert([{user_email:U.state.user,name:e.name,location:e.location,tel:e.tel,type:e.type,tel:e.contact,size:e.size}]).select().then(u=>{u.error==null&&y.push("/farm")}).catch(u=>{console.log(u)})):s.error="Fill in all fields"};return(u,t)=>(d(),x(C,{title:"New farm",back:"/farm"},{default:n(()=>[I("form",{onSubmit:g(b,["prevent"])},[s.error!=null?(d(),p("div",L,f(s.error),1)):k("",!0),l(a(v),null,{default:n(()=>[l(a(r),null,{default:n(()=>[l(a(m),{label:"Farm name",placeholder:"Enter name of farm",modelValue:e.name,"onUpdate:modelValue":t[0]||(t[0]=o=>e.name=o)},null,8,["modelValue"])]),_:1}),l(a(r),null,{default:n(()=>[l(a(m),{label:"Location",placeholder:"Enter farm location",modelValue:e.location,"onUpdate:modelValue":t[1]||(t[1]=o=>e.location=o)},null,8,["modelValue"])]),_:1}),l(a(r),null,{default:n(()=>[l(a(m),{label:"Farm size",placeholder:"Enter farm size",modelValue:e.size,"onUpdate:modelValue":t[2]||(t[2]=o=>e.size=o)},null,8,["modelValue"])]),_:1}),l(a(r),null,{default:n(()=>[l(a(E),{label:"Type of farm","label-placement":"floating",modelValue:e.type,"onUpdate:modelValue":t[3]||(t[3]=o=>e.type=o)},{default:n(()=>[(d(),p(F,null,N(V,(o,_)=>l(a(w),{value:o.name,key:_},{default:n(()=>[c(f(o.name),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"])]),_:1}),l(a(r),null,{default:n(()=>[l(a(m),{label:"Contact",placeholder:"Enter telephone number",modelValue:e.contact,"onUpdate:modelValue":t[4]||(t[4]=o=>e.contact=o),type:"number"},null,8,["modelValue"])]),_:1}),l(a(r),{lines:"none"},{default:n(()=>[l(a(B),{expand:"block",style:{width:"100%","margin-top":"20px"},class:"ion-button",size:"default",type:"submit"},{default:n(()=>t[5]||(t[5]=[c("Save")])),_:1,__:[5]})]),_:1})]),_:1})],32)]),_:1}))}};export{O as default};
