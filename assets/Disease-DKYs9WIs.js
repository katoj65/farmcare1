import{y as f,a4 as B,z as E,B as k,c as p,w as s,A as F,C as N,o as r,a,R as v,u as e,E as x,d as y,F as T,e as z,G as d,J as D,D as m,x as c,W as M,X as S,s as $,Y as h,a5 as L,M as R,N as A,O as U,v as _,a6 as G,T as g,P as H,Q as J,S as O,ai as P}from"./index-wW-_Sv7h.js";import{_ as Q}from"./AppLayout-DF7SUZZt.js";const W={style:{"font-weight":"bolder","text-transform":"capitalize"}},X={key:0,style:{color:"red",padding:"10px"}},Z={__name:"Disease",setup(Y){const I=f({disease:[]}),i=B(!1),w=F(),b=N();E(async()=>{const n=await k.from("disease").select("*");n.error==null?I.disease=n.data:console.log(n.error)});const u=f({error:null}),l=f({name:"",description:""}),V=async()=>{if(l.name==""||l.description=="")u.error="Fill in all fields";else{const n=await k.from("disease").insert([{name:l.name,description:l.description}]).select();n.error==null?n.data.forEach(t=>{i.value=!1,b.push("/disease/show/"+t.id)}):console.log(error)}};return(n,t)=>(r(),p(Q,{title:"Diseases",back:"/"},{default:s(()=>[a(e(x),null,{default:s(()=>[(r(!0),y(T,null,z(I.disease,(o,C)=>(r(),p(e(d),{key:C,lines:"full",details:"true",button:"",onClick:j=>e(b).push("/disease/show/"+o.id)},{default:s(()=>[a(e(D),null,{default:s(()=>[m("h3",W,c(o.name),1),m("p",null,c(o.description),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1}),a(e(M),{slot:"fixed",vertical:"bottom",horizontal:"end"},{default:s(()=>[a(e(S),{color:"dark",onClick:t[0]||(t[0]=o=>i.value=!0)},{default:s(()=>[a(e($),{icon:e(h)},null,8,["icon"])]),_:1})]),_:1}),e(w).name=="disease"?(r(),p(e(L),{key:0,"is-open":i.value},{default:s(()=>[a(e(R),null,{default:s(()=>[a(e(A),null,{default:s(()=>[a(e(U),null,{default:s(()=>t[4]||(t[4]=[_("Add disease details")])),_:1,__:[4]}),a(e(G),{slot:"end"},{default:s(()=>[a(e(g),{onClick:t[1]||(t[1]=o=>i.value=!1)},{default:s(()=>t[5]||(t[5]=[_("Close")])),_:1,__:[5]})]),_:1})]),_:1})]),_:1}),a(e(H),{class:"ion-padding"},{default:s(()=>[m("form",{onSubmit:J(V,["prevent"])},[u.error!=null?(r(),y("div",X,c(u.error),1)):v("",!0),a(e(x),{style:{border:"solid thin #e5e8e8","border-radius":"10px",padding:"10px"}},{default:s(()=>[a(e(d),null,{default:s(()=>[a(e(O),{placeholder:"Enter disease",modelValue:l.name,"onUpdate:modelValue":t[2]||(t[2]=o=>l.name=o)},null,8,["modelValue"])]),_:1}),a(e(d),null,{default:s(()=>[a(e(P),{placeholder:"Enter disease description",modelValue:l.description,"onUpdate:modelValue":t[3]||(t[3]=o=>l.description=o)},null,8,["modelValue"])]),_:1}),a(e(d),{lines:"none"},{default:s(()=>[a(e(g),{expand:"block",style:{width:"100%","margin-top":"20px"},class:"ion-button",size:"default",type:"submit"},{default:s(()=>t[6]||(t[6]=[_("Save")])),_:1,__:[6]})]),_:1})]),_:1})],32)]),_:1})]),_:1},8,["is-open"])):v("",!0)]),_:1}))}};export{Z as default};
