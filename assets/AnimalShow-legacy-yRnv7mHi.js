System.register(["./index-legacy-PXFMC68H.js","./AppLayout-legacy-i1MaG_vk.js"],function(e,t){"use strict";var l,a,n,o,r,i,d,u,s,m,p,c,f,_,h,y,g,x,b,v,z,k,w,A,S,V,E,R,C,D,H,j,F,M,T,U,q,G,K,L,P;return{setters:[e=>{l=e.y,a=e.z,n=e.A,o=e.B,r=e.a0,i=e.a2,d=e.c,u=e.w,s=e.o,m=e.d,p=e.Q,c=e.a,f=e.u,_=e.E,h=e.G,y=e.U,g=e.D,x=e.J,b=e.v,v=e.x,z=e.a3,k=e.$,w=e.S,A=e.F,S=e.e,V=e.s,E=e.a4,R=e.V,C=e.W,D=e.X,H=e.a5,j=e.K,F=e.L,M=e.M,T=e.a6,U=e.N,q=e.P,G=e.Z,K=e._,L=e.R},e=>{P=e._}],execute:function(){const t={key:0,style:{"padding-bottom":"100px"}},W={key:0,style:{"margin-top":"5px",border:"solid thin #e5e8e8",margin:"10px","border-radius":"5px"}},B={style:{"font-size":"18px","font-weight":"bold","text-transform":"capitalize"}},I={style:{"font-size":"14px"}},J={key:0,style:{padding:"10px",color:"red"}};e("default",{__name:"AnimalShow",setup(e){const N=l({animal:"",back:"",report:[]}),O=n();a(()=>{let e=O.path.split("/");o.from("animal").select("*,farm (name, location,tel,type,size,id)").eq("id",e[2]).then(e=>{null==e.error?(e.data.forEach(e=>{N.animal=e,N.back="/farm/show/"+e.farm.id}),o.from("animal_report").select("type,description").eq("animal_id",N.animal.id).limit(3).then(e=>{null==e.error?N.report=e.data:console.log(e.error)}).catch(e=>{console.log(e)})):console.log(e.error)}).catch(e=>{console.log(e)})}),r(e=>{let t=e.split("-");return t[0]+"-"+t[1]+"-"+t[2]});const Q=i(!1),X=e=>{Q.value=e},Z=l({report:"",description:""}),$=l({error:null}),Y=e=>{let t="";return"animal temperature"===e?t="Degrees":"heartbeat"===e?t="Hbps":"environmental temperature"===e&&(t="Degrees"),t},ee=()=>{let e=O.path.split("/");$.error=null,""==Z.report||""==Z.description?$.error="Fill in all fields":o.from("animal_report").insert([{animal_id:e[2],type:Z.report,description:Z.description,status:"active"}]).select().then(e=>{null==e.error?(X(!1),Z.description="",Z.report="",e.data.forEach(e=>{N.report.push(e)})):console.log(e.error)}).catch(e=>{console.log(e)})},te=(e,t)=>{let l=[];return"animal temperature"==e?t>35&&t<40?l.push({action:"Animal temperature normal."}):t>40?(l.push({action:"Antibiotics."}),l.push({action:"Isolate the animal."})):l.push({action:"Move to animal to shade."}):"heartbeat"==e?t>=48&&t<=84?l.push({action:"Heartbeat is normal."}):t>84?l.push({action:"Refer to the veterinary doctor for heartbeat."}):l.push({action:"Refer to the veterinary doctor."}):"environmental temperature"==e&&(t>=20&&t<=35?l.push({action:"Environment temperature is normal."}):t>35&&(l.push({action:"Provide shade, clean water."}),l.push({action:"Adjust dietary needs."}))),l};return(e,l)=>(s(),d(P,{title:"Animal details",back:N.back},{default:u(()=>[""!=N.animal?(s(),m("div",t,[c(f(_),null,{default:u(()=>[c(f(h),{lines:"none",color:"light"},{default:u(()=>[c(f(y),null,{default:u(()=>l[4]||(l[4]=[g("img",{alt:"Silhouette of a person's head",src:"https://ionicframework.com/docs/img/demos/avatar.svg"},null,-1)])),_:1,__:[4]}),c(f(x),{style:{"font-size":"18px","font-weight":"bold","text-transform":"capitalize","margin-left":"10px"}},{default:u(()=>[b(v(N.animal.name),1)]),_:1}),c(f(z),{color:"medium",style:{"font-size":"15px"}})]),_:1}),c(f(h),{lines:"none"},{default:u(()=>[c(f(x),null,{default:u(()=>l[5]||(l[5]=[b("Gender")])),_:1,__:[5]}),c(f(z),{color:"medium",style:{"font-size":"15px"}},{default:u(()=>[b(v(N.animal.gender),1)]),_:1})]),_:1}),c(f(h),{lines:"none"},{default:u(()=>[c(f(x),null,{default:u(()=>l[6]||(l[6]=[b("Tag")])),_:1,__:[6]}),c(f(z),{color:"medium",style:{"font-size":"15px"}},{default:u(()=>[b(v(N.animal.tag),1)]),_:1})]),_:1}),c(f(h),{lines:"none"},{default:u(()=>[c(f(x),null,{default:u(()=>l[7]||(l[7]=[b("Color")])),_:1,__:[7]}),c(f(z),{color:"medium",style:{"font-size":"17px"}},{default:u(()=>[b(v(N.animal.color),1)]),_:1})]),_:1}),c(f(h),{lines:"none"},{default:u(()=>[c(f(x),null,{default:u(()=>l[8]||(l[8]=[b("Weight")])),_:1,__:[8]}),c(f(z),{color:"medium",style:{"font-size":"15px"}},{default:u(()=>[b(v(N.animal.weight)+" Kgs ",1)]),_:1})]),_:1}),c(f(h),{lines:"none"},{default:u(()=>[c(f(x),null,{default:u(()=>l[9]||(l[9]=[b("Origin")])),_:1,__:[9]}),c(f(z),{color:"medium",style:{"text-transform":"capitalize","font-size":"15px"}},{default:u(()=>[b(v(N.animal.origin),1)]),_:1})]),_:1}),c(f(h),{lines:"none"},{default:u(()=>[c(f(x),null,{default:u(()=>l[10]||(l[10]=[b("Farm")])),_:1,__:[10]}),c(f(z),{color:"medium",style:{"text-transform":"capitalize","font-size":"15px"}},{default:u(()=>[b(v(N.animal.farm.name),1)]),_:1})]),_:1}),c(f(h),{lines:"none"},{default:u(()=>[c(f(x),null,{default:u(()=>l[11]||(l[11]=[b("Date added")])),_:1,__:[11]}),c(f(z),{color:"medium",style:{"text-transform":"capitalize","font-size":"10px"}},{default:u(()=>[b(v(N.animal.created_at),1)]),_:1})]),_:1}),c(f(k),{color:"light"},{default:u(()=>[c(f(x),{style:{"font-weight":"bold"}},{default:u(()=>l[12]||(l[12]=[b(" Animal Health Report")])),_:1,__:[12]}),N.report.length>0?(s(),d(f(w),{key:0,color:"dark"},{default:u(()=>l[13]||(l[13]=[g("span",{class:"material-icons"},"share",-1)])),_:1,__:[13]})):p("",!0)]),_:1}),(s(!0),m(A,null,S(N.report,(e,t)=>(s(),d(f(h),{key:t,color:"light",style:{"margin-top":"3px"},lines:"none"},{default:u(()=>[c(f(x),{style:{"text-transform":"capitalize"}},{default:u(()=>[b(v(e.type),1)]),_:2},1024),c(f(z),{color:"medium",style:{"font-size":"15px"}},{default:u(()=>[b(v(e.description)+" "+v(Y(e.type)),1)]),_:2},1024)]),_:2},1024))),128)),N.report.length>0?(s(),m("div",W,[c(f(h),{lines:"none"},{default:u(()=>l[14]||(l[14]=[g("h6",{style:{"font-weight":"bold"}},"Recommendations",-1)])),_:1,__:[14]}),(s(!0),m(A,null,S(N.report,(e,t)=>(s(),d(f(_),{key:t},{default:u(()=>[(s(!0),m(A,null,S(te(e.type,e.description),(e,t)=>(s(),d(f(h),{key:t,lines:"none"},{default:u(()=>[c(f(V),{icon:f(E)},null,8,["icon"]),c(f(x),null,{default:u(()=>[b(v(e.action),1)]),_:2},1024)]),_:2},1024))),128))]),_:2},1024))),128))])):p("",!0)]),_:1})])):p("",!0),c(f(R),{slot:"fixed",vertical:"bottom",horizontal:"end"},{default:u(()=>[c(f(C),{color:"dark",onClick:l[0]||(l[0]=e=>X(!0))},{default:u(()=>[c(f(V),{icon:f(D)},null,8,["icon"])]),_:1})]),_:1}),"animal details"==f(O).name?(s(),d(f(H),{key:1,"is-open":Q.value},{default:u(()=>[c(f(j),null,{default:u(()=>[c(f(F),null,{default:u(()=>[c(f(M),null,{default:u(()=>l[15]||(l[15]=[b("Add animal report")])),_:1,__:[15]}),c(f(T),{slot:"end"},{default:u(()=>[c(f(w),{onClick:l[1]||(l[1]=e=>X(!1))},{default:u(()=>l[16]||(l[16]=[b("Close")])),_:1,__:[16]})]),_:1})]),_:1})]),_:1}),c(f(U),null,{default:u(()=>[c(f(_),null,{default:u(()=>[c(f(k),{color:"light"},{default:u(()=>[c(f(x),null,{default:u(()=>[g("h4",B,v(N.animal.name),1)]),_:1}),g("span",I,"Tag: "+v(N.animal.tag),1)]),_:1})]),_:1}),g("form",{style:{padding:"15px"},onSubmit:q(ee,["prevent"])},[c(f(_),{style:{border:"solid thin #e5e8e8","border-radius":"10px","padding-bottom":"15px"}},{default:u(()=>[null!=$.error?(s(),m("div",J,v($.error),1)):p("",!0),c(f(h),null,{default:u(()=>[c(f(G),{label:"Report",placeholder:"Select option",modelValue:Z.report,"onUpdate:modelValue":l[2]||(l[2]=e=>Z.report=e)},{default:u(()=>[c(f(K),{value:"animal temperature"},{default:u(()=>l[17]||(l[17]=[b("Animal Temperature")])),_:1,__:[17]}),c(f(K),{value:"heartbeat"},{default:u(()=>l[18]||(l[18]=[b("Heartbeat")])),_:1,__:[18]}),c(f(K),{value:"environmental temperature"},{default:u(()=>l[19]||(l[19]=[b("Environmental temperature")])),_:1,__:[19]})]),_:1},8,["modelValue"])]),_:1}),c(f(h),null,{default:u(()=>[c(f(L),{label:"Measurements",placeholder:"Enter readings",type:"number",modelValue:Z.description,"onUpdate:modelValue":l[3]||(l[3]=e=>Z.description=e)},null,8,["modelValue"])]),_:1}),c(f(h),{lines:"none"},{default:u(()=>[c(f(w),{expand:"block",style:{width:"100%","margin-top":"20px"},class:"ion-button",size:"default",type:"submit"},{default:u(()=>l[20]||(l[20]=[b("Save")])),_:1,__:[20]})]),_:1})]),_:1})],32)]),_:1})]),_:1},8,["is-open"])):p("",!0)]),_:1},8,["back"]))}})}}});
