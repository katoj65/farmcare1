System.register(["./index-legacy-CA7qYX89.js","./AppLayout-legacy-FWDk24g_.js"],function(e,t){"use strict";var l,a,n,o,r,i,d,s,u,p,m,c,f,_,h,y,g,x,b,v,z,k,w,A,S,V,E,R,C,D,H,j,F,M,T,U,q,G,K,L;return{setters:[e=>{l=e.y,a=e.z,n=e.A,o=e.B,r=e.a2,i=e.a4,d=e.c,s=e.w,u=e.o,p=e.d,m=e.Q,c=e.a,f=e.u,_=e.E,h=e.G,y=e.U,g=e.D,x=e.J,b=e.v,v=e.x,z=e.Z,k=e.a1,w=e.S,A=e.F,S=e.e,V=e.V,E=e.W,R=e.s,C=e.X,D=e.a5,H=e.K,j=e.L,F=e.M,M=e.a6,T=e.N,U=e.P,q=e.$,G=e.a0,K=e.R},e=>{L=e._}],execute:function(){const t={key:0,style:{"padding-bottom":"100px"}},P={style:{"text-transform":"capitalize"}},W={class:"metadata-end-wrapper",slot:"end"},B={style:{"font-size":"18px","font-weight":"bold","text-transform":"capitalize"}},I={style:{"font-size":"14px"}},J={key:0,style:{padding:"10px",color:"red"}};e("default",{__name:"AnimalShow",setup(e){const N=l({animal:"",back:"",report:[]}),O=n();a(()=>{let e=O.path.split("/");o.from("animal").select("*,farm (name, location,tel,type,size,id)").eq("id",e[2]).then(e=>{null==e.error?(e.data.forEach(e=>{N.animal=e,N.back="/farm/show/"+e.farm.id}),o.from("animal_report").select("type,description").eq("animal_id",N.animal.id).limit(3).then(e=>{null==e.error?N.report=e.data:console.log(e.error)}).catch(e=>{console.log(e)})):console.log(e.error)}).catch(e=>{console.log(e)})}),r(e=>{let t=e.split("-");return t[0]+"-"+t[1]+"-"+t[2]});const Q=i(!1),X=e=>{Q.value=e},Z=l({report:"",description:""}),$=l({error:null}),Y=e=>{let t="";return"animal temperature"===e?t="Degrees":"heartbeat"===e?t="Hbps":"environmental temperature"===e&&(t="Degrees"),t},ee=()=>{let e=O.path.split("/");$.error=null,""==Z.report||""==Z.description?$.error="Fill in all fields":o.from("animal_report").insert([{animal_id:e[2],type:Z.report,description:Z.description,status:"active"}]).select().then(e=>{null==e.error?(X(!1),Z.description="",Z.report="",e.data.forEach(e=>{N.report.push(e)})):console.log(e.error)}).catch(e=>{console.log(e)})},te=(e,t)=>{let l=[];return"animal temperature"==e?t>35&&t<40?l.push({action:"Animal temperature normal."}):t>40?(l.push({action:"Antibiotics."}),l.push({action:"Isolate the animal."})):l.push({action:"Move to animal to shade."}):"heartbeat"==e?t>=48&&t<=84?l.push({action:"Heartbeat is normal."}):t>84?l.push({action:"Refer to the veterinary doctor for heartbeat."}):l.push({action:"Refer to the veterinary doctor."}):"environmental temperature"==e&&(t>=20&&t<=35?l.push({action:"Environment temperature is normal."}):t>35&&(l.push({action:"Provide shade, clean water."}),l.push({action:"Adjust dietary needs."}))),l};return(e,l)=>(u(),d(L,{title:"Animal details",back:N.back},{default:s(()=>[""!=N.animal?(u(),p("div",t,[c(f(_),null,{default:s(()=>[c(f(h),{lines:"none",color:"light"},{default:s(()=>[c(f(y),null,{default:s(()=>l[4]||(l[4]=[g("img",{alt:"Silhouette of a person's head",src:"https://ionicframework.com/docs/img/demos/avatar.svg"},null,-1)])),_:1,__:[4]}),c(f(x),{style:{"font-size":"18px","font-weight":"bold","text-transform":"capitalize","margin-left":"10px"}},{default:s(()=>[b(v(N.animal.name),1)]),_:1}),c(f(z),{color:"medium",style:{"font-size":"15px"}})]),_:1}),c(f(h),{lines:"none"},{default:s(()=>[c(f(x),null,{default:s(()=>l[5]||(l[5]=[b("Gender")])),_:1,__:[5]}),c(f(z),{color:"medium",style:{"font-size":"15px"}},{default:s(()=>[b(v(N.animal.gender),1)]),_:1})]),_:1}),c(f(h),{lines:"none"},{default:s(()=>[c(f(x),null,{default:s(()=>l[6]||(l[6]=[b("Tag")])),_:1,__:[6]}),c(f(z),{color:"medium",style:{"font-size":"15px"}},{default:s(()=>[b(v(N.animal.tag),1)]),_:1})]),_:1}),c(f(h),{lines:"none"},{default:s(()=>[c(f(x),null,{default:s(()=>l[7]||(l[7]=[b("Color")])),_:1,__:[7]}),c(f(z),{color:"medium",style:{"font-size":"17px"}},{default:s(()=>[b(v(N.animal.color),1)]),_:1})]),_:1}),c(f(h),{lines:"none"},{default:s(()=>[c(f(x),null,{default:s(()=>l[8]||(l[8]=[b("Weight")])),_:1,__:[8]}),c(f(z),{color:"medium",style:{"font-size":"15px"}},{default:s(()=>[b(v(N.animal.weight)+" Kgs ",1)]),_:1})]),_:1}),c(f(h),{lines:"none"},{default:s(()=>[c(f(x),null,{default:s(()=>l[9]||(l[9]=[b("Origin")])),_:1,__:[9]}),c(f(z),{color:"medium",style:{"text-transform":"capitalize","font-size":"15px"}},{default:s(()=>[b(v(N.animal.origin),1)]),_:1})]),_:1}),c(f(h),{lines:"none"},{default:s(()=>[c(f(x),null,{default:s(()=>l[10]||(l[10]=[b("Farm")])),_:1,__:[10]}),c(f(z),{color:"medium",style:{"text-transform":"capitalize","font-size":"15px"}},{default:s(()=>[b(v(N.animal.farm.name),1)]),_:1})]),_:1}),c(f(h),{lines:"none"},{default:s(()=>[c(f(x),null,{default:s(()=>l[11]||(l[11]=[b("Date added")])),_:1,__:[11]}),c(f(z),{color:"medium",style:{"text-transform":"capitalize","font-size":"10px"}},{default:s(()=>[b(v(N.animal.created_at),1)]),_:1})]),_:1}),c(f(k),{color:"light"},{default:s(()=>[c(f(x),{style:{"font-weight":"bold"}},{default:s(()=>l[12]||(l[12]=[b(" Animal Health Report ")])),_:1,__:[12]}),N.report.length>0?(u(),d(f(w),{key:0,color:"dark"},{default:s(()=>l[13]||(l[13]=[g("span",{class:"material-icons"},"share",-1)])),_:1,__:[13]})):m("",!0)]),_:1}),(u(!0),p(A,null,S(N.report,(e,t)=>(u(),d(f(h),{key:t,color:"light",style:{"margin-top":"3px"},lines:"none"},{default:s(()=>[c(f(x),null,{default:s(()=>[g("strong",P,v(e.type),1),c(f(z),{color:"medium",class:"ion-text-wrap"},{default:s(()=>[(u(!0),p(A,null,S(te(e.type,e.description),(e,t)=>(u(),p("p",{key:t,style:{"padding-top":"10px"}},v(e.action),1))),128))]),_:2},1024)]),_:2},1024),g("div",W,[c(f(z),{color:"medium",style:{"font-size":"15px"}},{default:s(()=>[b(v(e.description)+" "+v(Y(e.type)),1)]),_:2},1024)])]),_:2},1024))),128))]),_:1})])):m("",!0),c(f(V),{slot:"fixed",vertical:"bottom",horizontal:"end"},{default:s(()=>[c(f(E),{color:"dark",onClick:l[0]||(l[0]=e=>X(!0))},{default:s(()=>[c(f(R),{icon:f(C)},null,8,["icon"])]),_:1})]),_:1}),"animal details"==f(O).name?(u(),d(f(D),{key:1,"is-open":Q.value},{default:s(()=>[c(f(H),null,{default:s(()=>[c(f(j),null,{default:s(()=>[c(f(F),null,{default:s(()=>l[14]||(l[14]=[b("Add animal report")])),_:1,__:[14]}),c(f(M),{slot:"end"},{default:s(()=>[c(f(w),{onClick:l[1]||(l[1]=e=>X(!1))},{default:s(()=>l[15]||(l[15]=[b("Close")])),_:1,__:[15]})]),_:1})]),_:1})]),_:1}),c(f(T),null,{default:s(()=>[c(f(_),null,{default:s(()=>[c(f(k),{color:"light"},{default:s(()=>[c(f(x),null,{default:s(()=>[g("h4",B,v(N.animal.name),1)]),_:1}),g("span",I,"Tag: "+v(N.animal.tag),1)]),_:1})]),_:1}),g("form",{style:{padding:"15px"},onSubmit:U(ee,["prevent"])},[c(f(_),{style:{border:"solid thin #e5e8e8","border-radius":"10px","padding-bottom":"15px"}},{default:s(()=>[null!=$.error?(u(),p("div",J,v($.error),1)):m("",!0),c(f(h),null,{default:s(()=>[c(f(q),{label:"Report",placeholder:"Select option",modelValue:Z.report,"onUpdate:modelValue":l[2]||(l[2]=e=>Z.report=e)},{default:s(()=>[c(f(G),{value:"animal temperature"},{default:s(()=>l[16]||(l[16]=[b("Animal Temperature")])),_:1,__:[16]}),c(f(G),{value:"heartbeat"},{default:s(()=>l[17]||(l[17]=[b("Heartbeat")])),_:1,__:[17]}),c(f(G),{value:"environmental temperature"},{default:s(()=>l[18]||(l[18]=[b("Environmental temperature")])),_:1,__:[18]})]),_:1},8,["modelValue"])]),_:1}),c(f(h),null,{default:s(()=>[c(f(K),{label:"Measurements",placeholder:"Enter readings",type:"number",modelValue:Z.description,"onUpdate:modelValue":l[3]||(l[3]=e=>Z.description=e)},null,8,["modelValue"])]),_:1}),c(f(h),{lines:"none"},{default:s(()=>[c(f(w),{expand:"block",style:{width:"100%","margin-top":"20px"},class:"ion-button",size:"default",type:"submit"},{default:s(()=>l[19]||(l[19]=[b("Save")])),_:1,__:[19]})]),_:1})]),_:1})],32)]),_:1})]),_:1},8,["is-open"])):m("",!0)]),_:1},8,["back"]))}})}}});
